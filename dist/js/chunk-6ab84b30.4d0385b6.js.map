{"version":3,"sources":["webpack:///./src/views/Account.vue?9f71","webpack:///src/views/Account.vue","webpack:///./src/views/Account.vue?ee02","webpack:///./src/views/Account.vue?48be","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Account.vue?9add"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","staticStyle","previewUrl","getPictureUrl","ref","on","$event","previewPicture","preventDefault","$refs","uploadImage","click","directives","name","rawName","value","userInfo","expression","domProps","target","composing","$set","_q","sex","editProfile","passwordInfo","formIsFinished","updatePassword","isLoading","staticRenderFns","components","Sidebar","SidebarSm","data","photo","password","confirmPassword","errorMessage","uploadImg","computed","created","methods","mapMutations","setUserInfo","getProfile","resData","formdata","method","url","headers","Authorization","then","resolve","reject","getBase64Url","reader","_imageFormatCheck","file","component","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error"],"mappings":"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","file":"js/chunk-6ab84b30.4d0385b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"account-wrap d-flex flex-column\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-7\"},[_c('h3',{staticClass:\"title py-3 border bg-white text-center mb-4\"},[_vm._v(\" 修改個人資料 \")]),_vm._m(0),_c('div',{staticClass:\"tab-content rounded-card card\"},[_c('div',{staticClass:\"tab-pane fade show active\",attrs:{\"id\":\"edit-name\",\"aria-labelledby\":\"edit-name-tab\"}},[_c('div',{staticClass:\"card-body p-4 d-flex flex-column align-items-center\"},[_c('img',{staticClass:\"headshot rounded-circle d-block mb-3\",staticStyle:{\"object-fit\":\"cover\",\"border\":\"2px #000 solid\"},attrs:{\"src\":_vm.previewUrl == null\n\t\t\t\t\t\t\t\t\t? _vm.getPictureUrl('noAvatar.jpeg')\n\t\t\t\t\t\t\t\t\t: _vm.previewUrl}}),_c('input',{ref:\"uploadImage\",staticClass:\"d-none\",attrs:{\"type\":\"file\",\"accept\":\"image/png, image/jpeg\"},on:{\"change\":function($event){return _vm.previewPicture()}}}),_c('button',{staticClass:\"btn bg-black text-white rounded-0 shadow-none px-4 py-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$refs.uploadImage.click()}}},[_vm._v(\" 上傳大頭照 \")]),_c('form',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"name\"}},[_vm._v(\"暱稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.name),expression:\"userInfo.name\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"請輸入暱稱\"},domProps:{\"value\":(_vm.userInfo.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userInfo, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"sex\"}},[_vm._v(\"性別\")]),_c('div',[_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.sex),expression:\"userInfo.sex\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"female\",\"value\":\"female\"},domProps:{\"checked\":_vm._q(_vm.userInfo.sex,\"female\")},on:{\"change\":function($event){return _vm.$set(_vm.userInfo, \"sex\", \"female\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"female\"}},[_vm._v(\"女性\")])]),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInfo.sex),expression:\"userInfo.sex\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"id\":\"male\",\"value\":\"male\"},domProps:{\"checked\":_vm._q(_vm.userInfo.sex,\"male\")},on:{\"change\":function($event){return _vm.$set(_vm.userInfo, \"sex\", \"male\")}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"male\"}},[_vm._v(\"男性\")])])])]),_c('button',{staticClass:\"btn btn-secondary w-100 mt-3\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.editProfile()}}},[_vm._v(\" 送出更新 \")])])])]),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"edit-password\",\"aria-labelledby\":\"edit-password-tab\"}},[_c('div',{staticClass:\"card-body p-4 d-flex flex-column align-items-center\"},[_c('form',[_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"password\"}},[_vm._v(\"輸入新密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordInfo.password),expression:\"passwordInfo.password\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"請輸入新密碼\"},domProps:{\"value\":(_vm.passwordInfo.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.passwordInfo, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"confirmPassword\"}},[_vm._v(\"再次輸入\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordInfo.confirmPassword),expression:\"passwordInfo.confirmPassword\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"password\",\"id\":\"confirmPassword\",\"placeholder\":\"再次輸入輸入新密碼\"},domProps:{\"value\":(_vm.passwordInfo.confirmPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.passwordInfo, \"confirmPassword\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-secondary w-100 mt-3\",attrs:{\"type\":\"button\",\"disabled\":!_vm.formIsFinished},on:{\"click\":function($event){return _vm.updatePassword()}}},[_vm._v(\" 重設密碼 \")])])])])])]),_c('div',{staticClass:\"col-12 col-md-5 d-none d-md-block\"},[_c('Sidebar')],1),_c('div',{staticClass:\"d-md-none\"},[_c('SidebarSm')],1)]),_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"ms-2 nav nav-tabs border-0\",attrs:{\"id\":\"myTab\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\"},[_c('button',{staticClass:\"nav-link border px-4 active\",attrs:{\"id\":\"edit-name-tab\",\"data-bs-toggle\":\"tab\",\"data-bs-target\":\"#edit-name\",\"type\":\"button\",\"aria-controls\":\"edit-name\",\"aria-selected\":\"true\"}},[_vm._v(\" 暱稱修改 \")])]),_c('li',{staticClass:\"nav-item\"},[_c('button',{staticClass:\"nav-link border px-4\",attrs:{\"id\":\"edit-password-tab\",\"data-bs-toggle\":\"tab\",\"data-bs-target\":\"#edit-password\",\"type\":\"button\",\"aria-controls\":\"edit-password\",\"aria-selected\":\"false\"}},[_vm._v(\" 重設密碼 \")])])])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"account-wrap d-flex flex-column\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-12 col-md-7\">\n\t\t\t\t<h3 class=\"title py-3 border bg-white text-center mb-4\">\n\t\t\t\t\t修改個人資料\n\t\t\t\t</h3>\n\t\t\t\t<ul\n\t\t\t\t\tclass=\"ms-2 nav nav-tabs border-0\"\n\t\t\t\t\tid=\"myTab\"\n\t\t\t\t\trole=\"tablist\"\n\t\t\t\t>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"nav-link border px-4 active\"\n\t\t\t\t\t\t\tid=\"edit-name-tab\"\n\t\t\t\t\t\t\tdata-bs-toggle=\"tab\"\n\t\t\t\t\t\t\tdata-bs-target=\"#edit-name\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-controls=\"edit-name\"\n\t\t\t\t\t\t\taria-selected=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t暱稱修改\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"nav-link border px-4\"\n\t\t\t\t\t\t\tid=\"edit-password-tab\"\n\t\t\t\t\t\t\tdata-bs-toggle=\"tab\"\n\t\t\t\t\t\t\tdata-bs-target=\"#edit-password\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\taria-controls=\"edit-password\"\n\t\t\t\t\t\t\taria-selected=\"false\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t重設密碼\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class=\"tab-content rounded-card card\">\n\t\t\t\t\t<!-- 暱稱修改 -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"tab-pane fade show active\"\n\t\t\t\t\t\tid=\"edit-name\"\n\t\t\t\t\t\taria-labelledby=\"edit-name-tab\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"card-body p-4 d-flex flex-column align-items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t:src=\"\n\t\t\t\t\t\t\t\t\tpreviewUrl == null\n\t\t\t\t\t\t\t\t\t\t? getPictureUrl('noAvatar.jpeg')\n\t\t\t\t\t\t\t\t\t\t: previewUrl\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\tclass=\"headshot rounded-circle d-block mb-3\"\n\t\t\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\t\t\t\t\tborder: 2px #000 solid;\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"d-none\"\n\t\t\t\t\t\t\t\tref=\"uploadImage\"\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\taccept=\"image/png, image/jpeg\"\n\t\t\t\t\t\t\t\t@change=\"previewPicture()\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn bg-black text-white rounded-0 shadow-none px-4 py-2\"\n\t\t\t\t\t\t\t\t@click.prevent=\"$refs.uploadImage.click()\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t上傳大頭照\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<form class=\"mt-3\">\n\t\t\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t<label for=\"name\" class=\"form-label\"\n\t\t\t\t\t\t\t\t\t\t>暱稱</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control rounded-0\"\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入暱稱\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"userInfo.name\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t<label for=\"sex\" class=\"form-label\"\n\t\t\t\t\t\t\t\t\t\t>性別</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check form-check-inline\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"female\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"female\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"userInfo.sex\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tfor=\"female\"\n\t\t\t\t\t\t\t\t\t\t\t\t>女性</label\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check form-check-inline\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-input\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"male\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"male\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"userInfo.sex\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-label\"\n\t\t\t\t\t\t\t\t\t\t\t\tfor=\"male\"\n\t\t\t\t\t\t\t\t\t\t\t\t>男性</label\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<!-- <div\n\t\t\t\t\t\t\t\t\tv-if=\"errorMessage\"\n\t\t\t\t\t\t\t\t\tclass=\"text-danger text-center d-block mt-3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<small\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in errorMessage\"\n\t\t\t\t\t\t\t\t\t\t:key=\"`error_${index}`\"\n\t\t\t\t\t\t\t\t\t\tclass=\"d-block\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ item }}\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t</div> -->\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary w-100 mt-3\"\n\t\t\t\t\t\t\t\t\t@click=\"editProfile()\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t送出更新\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- 重設密碼 -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"tab-pane fade\"\n\t\t\t\t\t\tid=\"edit-password\"\n\t\t\t\t\t\taria-labelledby=\"edit-password-tab\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"card-body p-4 d-flex flex-column align-items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t<label for=\"password\" class=\"form-label\"\n\t\t\t\t\t\t\t\t\t\t>輸入新密碼</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control rounded-0\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"請輸入新密碼\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"passwordInfo.password\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"mb-3\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-label\"\n\t\t\t\t\t\t\t\t\t\t>再次輸入</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control rounded-0\"\n\t\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"再次輸入輸入新密碼\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"passwordInfo.confirmPassword\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary w-100 mt-3\"\n\t\t\t\t\t\t\t\t\t@click=\"updatePassword()\"\n\t\t\t\t\t\t\t\t\t:disabled=\"!formIsFinished\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t重設密碼\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-12 col-md-5 d-none d-md-block\">\n\t\t\t\t<Sidebar></Sidebar>\n\t\t\t</div>\n\t\t\t<div class=\"d-md-none\">\n\t\t\t\t<SidebarSm></SidebarSm>\n\t\t\t</div>\n\t\t</div>\n\t\t<loading :active.sync=\"isLoading\"></loading>\n\t</div>\n</template>\n\n<script>\nimport { mapMutations } from 'vuex';\n\nexport default {\n\tname: 'Following',\n\tcomponents: {\n\t\tSidebar: () => import('../components/Sidebar.vue'),\n\t\tSidebarSm: () => import('../components/SidebarSm.vue')\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tuserInfo: {\n\t\t\t\tname: '',\n\t\t\t\tsex: '',\n\t\t\t\tphoto: ''\n\t\t\t},\n\t\t\tpasswordInfo: {\n\t\t\t\tpassword: '',\n\t\t\t\tconfirmPassword: ''\n\t\t\t},\n\t\t\terrorMessage: [],\n\t\t\tuploadImg: null,\n\t\t\tpreviewUrl: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tformIsFinished() {\n\t\t\treturn (\n\t\t\t\tthis.passwordInfo.password && this.passwordInfo.confirmPassword\n\t\t\t);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getProfile();\n\t},\n\tmethods: {\n\t\t...mapMutations({\n\t\t\tsetUserInfo: 'setUserInfo'\n\t\t}),\n\t\tasync getProfile() {\n\t\t\ttry {\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tconst resData = await this.$api.getUserProfile();\n\t\t\t\tif (!resData.data || resData.status !== 'success') {\n\t\t\t\t\tthrow new Error('取得資料失敗');\n\t\t\t\t}\n\n\t\t\t\tconst { name, sex, photo } = resData.data;\n\t\t\t\tthis.userInfo = {\n\t\t\t\t\tname,\n\t\t\t\t\tsex,\n\t\t\t\t\tphoto\n\t\t\t\t};\n\n\t\t\t\tif (photo !== '') this.previewUrl = photo;\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis.$toasted.show(error.message);\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\t\t},\n\t\tasync editProfile() {\n\t\t\ttry {\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tawait this.uploadImage();\n\n\t\t\t\tconst resData = await this.$api.editUserProfile(this.userInfo);\n\t\t\t\tif (!resData || resData.status !== 'success') {\n\t\t\t\t\tthrow resData.message;\n\t\t\t\t}\n\n\t\t\t\tthis.setUserInfo(this.userInfo);\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tthis.getProfile();\n\t\t\t} catch (error) {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tthis.$toasted.show(error.message);\n\t\t\t}\n\t\t},\n\t\tasync uploadImage() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tif (!this.uploadImg) return resolve();\n\t\t\t\tconst { token } = this.$store.state;\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tvar formdata = new FormData();\n\t\t\t\tformdata.append('image', this.uploadImg);\n\t\t\t\tformdata.append('type', 'avatar');\n\n\t\t\t\tthis.axios({\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\turl: `${process.env.VUE_APP_API_DOMAIN}/uploadImage`,\n\t\t\t\t\tdata: formdata,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (res.data.status === 'success') {\n\t\t\t\t\t\t\tthis.userInfo.photo = res.data.data.imgUrl;\n\t\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\t\tresolve(res.data.data.imgUrl);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\treject(err.response);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tasync previewPicture() {\n\t\t\tif (this.$refs.uploadImage.files.length === 0) return;\n\t\t\tthis.uploadImg = this.$refs.uploadImage.files[0];\n\t\t\tthis._imageFormatCheck(this.uploadImg);\n\t\t\tif (this.errorMessage.length > 0) return;\n\n\t\t\tconst getBase64Url = () => {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tconst reader = new FileReader();\n\t\t\t\t\treader.readAsDataURL(this.uploadImg);\n\t\t\t\t\treader.onload = function(e) {\n\t\t\t\t\t\tresolve(e.target.result);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.previewUrl = await getBase64Url();\n\t\t},\n\t\t_imageFormatCheck(file) {\n\t\t\t// 確認檔案尺寸是否超過 1 MB\n\t\t\tif (file.size / 1024 / 1024 > 1) { this.errorMessage.push('圖片檔案過大，僅限 1mb 以下檔案'); }\n\n\t\t\t// TODO: 確認頭像是否符合 1:1 ，解析度 300 像素以上\n\t\t},\n\t\tasync updatePassword() {\n\t\t\ttry {\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tconst resData = await this.$api.updatePassword(\n\t\t\t\t\tthis.passwordInfo\n\t\t\t\t);\n\t\t\t\tif (!resData || resData.status !== 'success') {\n\t\t\t\t\tthrow resData.message;\n\t\t\t\t}\n\n\t\t\t\tthis.passwordInfo = {};\n\t\t\t\tthis.isLoading = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tthis.$toasted.show('更新失敗，' + error.message);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.account-wrap {\n\t.title {\n\t\tbox-shadow: -5px 5px 0 -2px white, -5px 5px 0 0px $black;\n\t}\n\t.nav-link {\n\t\tbackground-color: white;\n\t\tcolor: $black;\n\t\t&.active {\n\t\t\tbackground-color: $black;\n\t\t\tcolor: white;\n\t\t}\n\t}\n\t.headshot {\n\t\twidth: 105px;\n\t\theight: 105px;\n\t}\n\tform {\n\t\twidth: 320px;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=73ad6aa0&scoped=true&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=73ad6aa0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73ad6aa0\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=73ad6aa0&lang=scss&scoped=true&\""],"sourceRoot":""}